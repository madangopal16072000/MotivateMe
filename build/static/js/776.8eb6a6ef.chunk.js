"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[776],{776:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var s=n(791),c=n(880),r=n(523),o=n(152),m=n(995),a=n(853),d=n(556),i="CommentItem_item__RL34i",u=n(184),l=function(e){return(0,u.jsx)("li",{className:i,children:(0,u.jsx)("p",{children:e.text})})},x="CommentsList_comments__M3j5A",h=function(e){return(0,u.jsx)("ul",{className:x,children:e.comments.map((function(e){return(0,u.jsx)(l,{text:e.text},e.id)}))})},j="Comments_comments__Nd1My",f="NewCommentForm_form__srf2N",_="NewCommentForm_control__kcaqw",N="NewCommentForm_actions__-83VN",p=function(e){var t=(0,m.Z)(a.Ir),n=t.sendRequest,c=t.status,r=t.error,o=(0,s.useRef)(),i=e.onAddedComment;(0,s.useEffect)((function(){"completed"!==c||r||i()}),[i,c,r]);var l=o.current,x=function(t){t.preventDefault(),n({commentData:{text:l},quoteID:e.quoteID})};return(0,u.jsxs)("form",{className:f,onSubmit:x,children:["pending"===c&&(0,u.jsx)("div",{className:"centered",children:(0,u.jsx)(d.Z,{})}),(0,u.jsxs)("div",{className:_,onSubmit:x,children:[(0,u.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,u.jsx)("textarea",{id:"comment",rows:"5",ref:o})]}),(0,u.jsx)("div",{className:N,children:(0,u.jsx)("button",{className:"btn",children:"Add Comment"})})]})},C=function(){var e=(0,s.useState)(!1),t=(0,o.Z)(e,2),n=t[0],r=t[1],i=(0,c.UO)(),l=(0,m.Z)(a.h_),x=l.sendRequest,f=l.status,_=l.data,N=i.quoteID;(0,s.useEffect)((function(){x(N)}),[x,N]);var C,v=(0,s.useCallback)((function(){x(N)}),[x,N]);return"pending"===f&&(C=(0,u.jsx)("div",{className:"centered",children:(0,u.jsx)(d.Z,{})})),"completed"===f&&_&&_.length>0&&(C=(0,u.jsx)(h,{comments:_})),"completed"!==f||_&&0!==_.length||(C=(0,u.jsx)("div",{className:"centerd",children:"No comments were added yet"})),(0,u.jsxs)("section",{className:j,children:[(0,u.jsx)("h2",{children:"User Comments"}),!n&&(0,u.jsx)("button",{className:"btn",onClick:function(){r(!0)},children:"Add a Comment"}),n&&(0,u.jsx)(p,{quoteID:i.quoteID,onAddedComment:v}),C]})},v="HighlightedQuote_quote__eo6Mb",b=function(e){return(0,u.jsxs)("figure",{className:v,children:[(0,u.jsx)("p",{children:e.text}),(0,u.jsx)("figcaption",{children:e.author})]})},g=function(){var e=(0,c.UO)(),t=(0,c.$B)(),n=(0,m.Z)(a.jR,!0),o=n.sendRequest,i=n.status,l=n.data,x=n.error;return(0,s.useEffect)((function(){o(e.quoteID)}),[o,e.quoteID]),"pending"===i?(0,u.jsx)("div",{className:"centered",children:(0,u.jsx)(d.Z,{})}):x?(0,u.jsx)("p",{className:"centered",children:x}):l?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(b,{text:l.text,author:l.author}),(0,u.jsx)(c.AW,{path:t.path,exact:!0,children:(0,u.jsx)("div",{className:"centered",children:(0,u.jsx)(r.rU,{className:"btn--flat",to:"".concat(t.url,"/comments"),children:"Load Comments"})})}),(0,u.jsx)(c.AW,{path:"".concat(t.path,"/comments"),children:(0,u.jsx)(C,{})})]}):(0,u.jsx)("p",{children:"Quote not Found"})}}}]);
//# sourceMappingURL=776.8eb6a6ef.chunk.js.map